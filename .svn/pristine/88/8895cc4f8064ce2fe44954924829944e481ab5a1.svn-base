webpackJsonp([44],{533:function(t,e,i){function n(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var o=t.targetNodeId;if(null!=o&&(n=i.getNodeById(o)))return{node:n}}}function o(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function a(t,e){var i=o(t);return s.indexOf(i,e)>=0}function r(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}var s=i(0);e.retrieveTargetInfo=n,e.getPathToRoot=o,e.aboveViewRoot=a,e.wrapTreePathInfo=r},561:function(t,e,i){function n(t){var e={};return c(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}function o(t,e){var i=t._rangePropMode,n=t.get("rangeMode");c([["start","startValue"],["end","endValue"]],function(t,o){var a=null!=e[t[0]],r=null!=e[t[1]];a&&!r?i[o]="percent":!a&&r?i[o]="value":n?i[o]=n[o]:a&&(i[o]="percent")})}var a=i(5),r=(a.__DEV__,i(1)),s=i(0),l=i(11),d=i(4),u=i(563),h=i(658),c=s.each,g=u.eachAxisDim,f=r.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var o=n(t);this.mergeDefaultAndTheme(t,i),this.doInit(o)},mergeOption:function(t){var e=n(t);s.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;l.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),o(this,t),c([["start","startValue"],["end","endValue"]],function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var a=this.dependentModels[e.axis][i],r=a.__dzAxisProxy||(a.__dzAxisProxy=new h(e.name,i,this,o));t[e.name+"_"+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();g(function(e){var i=e.axisIndex;t[i]=d.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;g(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option,n=this.dependentModels;if(t){var o="vertical"===e?"y":"x";n[o+"Axis"].length?(i[o+"AxisIndex"]=[0],t=!1):c(n.singleAxis,function(n){t&&n.get("orient",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1)})}t&&g(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var a=0,r=o.length;a<r;a++)"category"===o[a].get("type")&&n.push(a);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&g(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex),a=t.get(e.axisId);o=t.ecModel.queryComponents({mainType:e.axis,index:o,id:a})[0].componentIndex,s.indexOf(n,o)<0&&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return g(function(n){var o=t.get(n.axisIndex),a=this.dependentModels[n.axis][o];a&&a.get("type")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return g(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;g(function(n){c(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t,e){var i=this.option;c([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])},this),!e&&o(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),p=f;t.exports=p},562:function(t,e,i){var n=i(196),o=n.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){function t(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var a=i.getComponent(e.axis,o);if(a){var r=a.getCoordSysModel();r&&t(r,a,n[r.mainType]||(n[r.mainType]=[]),r.componentIndex)}},this),n}});t.exports=o},563:function(t,e,i){function n(t){return r.indexOf(d,t)>=0}function o(t,e){t=t.slice();var i=r.map(t,s.capitalFirst);e=(e||[]).slice();var n=r.map(e,s.capitalFirst);return function(o,a){r.each(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(a,s)})}}function a(t,e,i){function n(t,e){return r.indexOf(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function a(t,n){n.nodes.push(t),e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){function r(t){!n(t,s)&&o(t,s)&&(a(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!i)return s;a(i,s);var l;do{l=!1,t(r)}while(l);return s}}var r=i(0),s=i(7),l=["x","y","z","radius","angle","single"],d=["cartesian2d","polar","singleAxis"],u=o(l,["axisIndex","axis","index","id"]);e.isCoordSupported=n,e.createNameEach=o,e.eachAxisDim=u,e.createLinkedNodesFinder=a},647:function(t,e,i){function n(t){return"_"+t+"Type"}function o(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){d.isArray(a)||(a=[a,a]);var r=h.createSymbol(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r}}function a(t){var e=new c({name:"line"});return r(e.shape,t),e}function r(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function s(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.childOfName("label");if(e||i||!n.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var r=t.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),d=r.pointAt(s),h=u.sub([],d,l);if(u.normalize(h,h),e){e.attr("position",l);var c=r.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0])),e.attr("scale",[o*s,o*s])}if(i){i.attr("position",d);var c=r.tangentAt(1);i.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0])),i.attr("scale",[o*s,o*s])}if(!n.ignore){n.attr("position",d);var g,f,p,m=5*o;if("end"===n.__position)g=[h[0]*m+d[0],h[1]*m+d[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var v=s/2,c=r.tangentAt(v),x=[c[1],-c[0]],y=r.pointAt(v);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]),g=[y[0]+x[0]*m,y[1]+x[1]*m],f="center",p="bottom";var _=-Math.atan2(c[1],c[0]);d[0]<l[0]&&(_=Math.PI+_),n.attr("rotation",_)}else g=[-h[0]*m+l[0],-h[1]*m+l[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||p,textAlign:n.__textAlign||f},position:g,scale:[o,o]})}}}}function l(t,e,i){g.Group.call(this),this._createLine(t,e,i)}var d=i(0),u=i(6),h=i(25),c=i(649),g=i(2),f=i(3),p=f.round,m=["fromSymbol","toSymbol"],v=l.prototype;v.beforeUpdate=s,v._createLine=function(t,e,i){var r=t.hostModel,s=t.getItemLayout(e),l=a(s);l.shape.percent=0,g.initProps(l,{shape:{percent:1}},r,e),this.add(l);var u=new g.Text({name:"label"});this.add(u),d.each(m,function(i){var a=o(i,t,e);this.add(a),this[n(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},v.updateData=function(t,e,i){var a=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(e),u={shape:{}};r(u.shape,l),g.updateProps(s,u,a,e),d.each(m,function(i){var a=t.getItemVisual(e,i),r=n(i);if(this[r]!==a){this.remove(this.childOfName(i));var s=o(i,t,e);this.add(s)}this[r]=a},this),this._updateCommonStl(t,e,i)},v._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),a=i&&i.lineStyle,r=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var u=t.getItemModel(e);a=u.getModel("lineStyle.normal").getLineStyle(),r=u.getModel("lineStyle.emphasis").getLineStyle(),s=u.getModel("label.normal"),l=u.getModel("label.emphasis")}var h=t.getItemVisual(e,"color"),c=d.retrieve3(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(d.defaults({strokeNoScale:!0,fill:"none",stroke:h,opacity:c},a)),o.hoverStyle=r,d.each(m,function(t){var e=this.childOfName(t);e&&(e.setColor(h),e.setStyle({opacity:c}))},this);var f,v,x,y,_=s.getShallow("show"),w=l.getShallow("show"),M=this.childOfName("label");if(_||w){var I=n.getRawValue(e);v=null==I?v=t.getName(e):isFinite(I)?p(I):I,f=h||"#000",x=d.retrieve2(n.getFormattedLabel(e,"normal",t.dataType),v),y=d.retrieve2(n.getFormattedLabel(e,"emphasis",t.dataType),x)}if(_){var b=g.setTextStyle(M.style,s,{text:x},{autoColor:f});M.__textAlign=b.textAlign,M.__verticalAlign=b.textVerticalAlign,M.__position=s.get("position")||"middle"}else M.setStyle("text",null);M.hoverStyle=w?{text:y,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},M.ignore=!_&&!w,g.setHoverStyle(this)},v.highlight=function(){this.trigger("emphasis")},v.downplay=function(){this.trigger("normal")},v.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},v.setLinePoints=function(t){var e=this.childOfName("line");r(e.shape,t),e.dirty()},d.inherits(l,g.Group);var x=l;t.exports=x},648:function(t,e,i){function n(t){return isNaN(t[0])||isNaN(t[1])}function o(t){return!n(t[0])&&!n(t[1])}function a(t){this._ctor=t||s,this.group=new r.Group}var r=i(2),s=i(647),l=a.prototype;l.updateData=function(t){var e=this._lineData,i=this.group,n=this._ctor,a=t.hostModel,r={lineStyle:a.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:a.getModel("lineStyle.emphasis").getLineStyle(),labelModel:a.getModel("label.normal"),hoverLabelModel:a.getModel("label.emphasis")};t.diff(e).add(function(e){if(o(t.getItemLayout(e))){var a=new n(t,e,r);t.setItemGraphicEl(e,a),i.add(a)}}).update(function(a,s){var l=e.getItemGraphicEl(s);if(!o(t.getItemLayout(a)))return void i.remove(l);l?l.updateData(t,a,r):l=new n(t,a,r),t.setItemGraphicEl(a,l),i.add(l)}).remove(function(t){i.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},l.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},l.remove=function(){this.group.removeAll()};var d=a;t.exports=d},649:function(t,e,i){function n(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var o=i(2),a=i(6),r=o.Line.prototype,s=o.BezierCurve.prototype,l=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(n(e)?r:s).buildPath(t,e)},pointAt:function(t){return n(this.shape)?r.pointAt.call(this,t):s.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=n(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return a.normalize(i,i)}});t.exports=l},650:function(t,e,i){var n=i(1);i(652),i(653),i(654);var o=i(656),a=i(655);n.registerVisual(o),n.registerLayout(a)},651:function(t,e,i){function n(t){this.group=new r.Group,t.add(this.group)}function o(t,e,i,n,o,a){var r=[[o?t:t-h,e],[t+i,e],[t+i,e+n],[o?t:t-h,e+n]];return!a&&r.splice(2,0,[t+i+h,e+n/2]),!o&&r.push([t,e+n/2]),r}function a(t,e,i){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&u(i,e)}}var r=i(2),s=i(16),l=i(0),d=i(533),u=d.wrapTreePathInfo,h=5;n.prototype={constructor:n,render:function(t,e,i,n){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var r=o.getModel("itemStyle.normal"),l=r.getModel("textStyle"),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,l),this._renderContent(t,d,r,l,n),s.positionElement(a,d.pos,d.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get("name"),a=i.getTextRect(o),r=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({node:n,text:o,width:r})}},_renderContent:function(t,e,i,n,d){for(var u=0,h=e.emptyItemWidth,c=t.get("breadcrumb.height"),g=s.getAvailableSize(e.pos,e.box),f=e.totalWidth,p=e.renderList,m=p.length-1;m>=0;m--){var v=p[m],x=v.node,y=v.width,_=v.text;f>g.width&&(f-=y-h,y=h,_=null);var w=new r.Polygon({shape:{points:o(u,0,y,c,m===p.length-1,0===m)},style:l.defaults(i.getItemStyle(),{lineJoin:"bevel",text:_,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:l.curry(d,x)});this.group.add(w),a(w,t,x),u+=y+8}},remove:function(){this.group.removeAll()}};var c=n;t.exports=c},652:function(t,e,i){function n(t){var e=0;a.each(t.children,function(t){n(t);var i=t.value;a.isArray(i)&&(i=i[0]),e+=i});var i=t.value;a.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),a.isArray(t.value)?t.value[0]=i:t.value=i}function o(t,e){var i=e.get("color");if(i){t=t||[];var n;if(a.each(t,function(t){var e=new l(t),i=e.get("color");(e.get("itemStyle.normal.color")||i&&"none"!==i)&&(n=!0)}),!n){(t[0]||(t[0]={})).color=i.slice()}return t}}var a=i(0),r=i(30),s=i(673),l=i(9),d=i(7),u=d.encodeHTML,h=d.addCommas,c=i(533),g=c.wrapTreePathInfo,f=r.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};n(i);var a=t.levels||[];a=t.levels=o(a,e);var r={};return r.levels=a,s.createTree(i,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=h(a.isArray(i)?i[0]:i),o=e.getName(t);return u(o+": "+n)},getDataParams:function(t){var e=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=g(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=a.createHashMap(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=f},653:function(t,e,i){function n(){return{nodeGroup:[],background:[],content:[]}}function o(t,e,i,n,o,r,d,u,h,c){function g(t,e){R?!t.invisible&&r.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,i,n,o,a,r){var u=d.getModel(),h=s.retrieve(t.getFormattedLabel(d.dataIndex,"normal",null,null,r?"upperLabel":"label"),u.get("name"));if(!r&&_.isLeafRoot){var c=t.get("drillDownIcon",!0);h=c?c+" "+h:h}var g=u.getModel(r?I:w),f=u.getModel(r?b:M),p=g.getShallow("show");l.setLabelStyle(e,i,g,f,{defaultText:p?h:null,autoColor:n,isRectText:!0}),r&&(e.textRect=s.clone(r)),e.truncate=p&&g.get("ellipsis")?{outerWidth:o,outerHeight:a,minChar:2}:null}function p(t,n,r,s){var l=null!=P&&i[t][P],d=o[t];return l?(i[t][P]=null,m(d,l,t)):R||(l=new n({z:a(r,s)}),l.__tmDepth=r,l.__tmStorageName=t,v(d,l,t)),e[t][C]=l}function m(t,e,i){(t[C]={}).old="nodeGroup"===i?e.position.slice():s.extend({},e.shape)}function v(t,e,i){var a=t[C]={},r=d.parentNode;if(r&&(!n||"drillDown"===n.direction)){var s=0,l=0,u=o.background[r.getRawIndex()];!n&&u&&u.old&&(s=u.old.width,l=u.old.height),a.old="nodeGroup"===i?[0,l]:{x:s,y:l,width:0,height:0}}a.fadein="nodeGroup"!==i}if(d){var _=d.getLayout();if(_&&_.isInView){var A=_.width,L=_.height,V=_.borderWidth,R=_.invisible,C=d.getRawIndex(),P=u&&u.getRawIndex(),z=d.viewChildren,Z=_.upperHeight,W=z&&z.length,k=d.getModel("itemStyle.normal"),O=d.getModel("itemStyle.emphasis"),E=p("nodeGroup",x);if(E){if(h.add(E),E.attr("position",[_.x||0,_.y||0]),E.__tmNodeWidth=A,E.__tmNodeHeight=L,_.isAboveViewRoot)return E;var G=p("background",y,c,S);if(G&&function(e,i,n){i.dataIndex=d.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:A,height:L});var o=d.getVisual("borderColor",!0),a=O.get("borderColor");g(i,function(){var t=N(k);t.fill=o;var e=T(O);if(e.fill=a,n){var r=A-2*V;f(t,e,o,r,Z,{x:V,y:0,width:r,height:Z})}else t.text=e.text=null;i.setStyle(t),l.setHoverStyle(i,e)}),e.add(i)}(E,G,W&&_.upperHeight),!W){var H=p("content",y,c,D);H&&function(e,i){i.dataIndex=d.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(A-2*V,0),o=Math.max(L-2*V,0);i.culling=!0,i.setShape({x:V,y:V,width:n,height:o});var a=d.getVisual("color",!0);g(i,function(){var t=N(k);t.fill=a;var e=T(O);f(t,e,a,n,o),i.setStyle(t),l.setHoverStyle(i,e)}),e.add(i)}(E,H)}return E}}}}function a(t,e){var i=t*A+e;return(i-1)/i}var r=i(1),s=i(0),l=i(2),d=i(195),u=i(533),h=i(651),c=i(190),g=i(10),f=i(26),p=i(675),m=i(55),v=s.bind,x=l.Group,y=l.Rect,_=s.each,w=["label","normal"],M=["label","emphasis"],I=["upperLabel","normal"],b=["upperLabel","emphasis"],A=10,S=1,D=2,T=m([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),N=function(t){var e=T(t);return e.stroke=e.fill=e.lineWidth=null,e},L=r.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage=n(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(s.indexOf(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var a=u.retrieveTargetInfo(n,t),r=n&&n.type,l=t.layoutInfo,d=!this._oldTree,h=this._storage,c="treemapRootToNode"===r&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:n.direction}:null,g=this._giveContainerGroup(l),f=this._doRender(g,t,c);d||r&&"treemapZoomToNode"!==r&&"treemapRootToNode"!==r?f.renderFinally():this._doAnimation(g,f,t,c),this._resetController(i),this._renderBreadcrumb(t,i,a)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new x,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,i){function a(t,e,i,n,o){function r(t){return t.getId()}function l(r,s){var l=null!=r?t[r]:null,d=null!=s?e[s]:null,u=p(l,d,i,o);u&&a(l&&l.viewChildren||[],d&&d.viewChildren||[],u,n,o+1)}n?(e=t,_(t,function(t,e){!t.isRemoved()&&l(e,e)})):new d(e,t,r,r).add(l).update(l).remove(s.curry(l,null)).execute()}function r(){_(m,function(t){_(t,function(t){t.parent&&t.parent.remove(t)})}),_(f,function(t){t.invisible=!0,t.dirty()})}var l=e.getData().tree,u=this._oldTree,h=n(),c=n(),g=this._storage,f=[],p=s.curry(o,e,c,g,i,h,f);a(l.root?[l.root]:[],u&&u.root?[u.root]:[],t,l===u||!u,0);var m=function(t){var e=n();return t&&_(t,function(t,i){var n=e[i];_(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),e}(g);return this._oldTree=l,this._storage=c,{lastsForAnimation:h,willDeleteEls:m,renderFinally:r}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var o=i.get("animationDurationUpdate"),a=i.get("animationEasing"),r=p.createWrap();_(e.willDeleteEls,function(t,e){_(t,function(t,i){if(!t.invisible){var s,l=t.parent;if(n&&"drillDown"===n.direction)s=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,u=0;l.__tmWillDelete||(d=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),s="nodeGroup"===e?{position:[d,u],style:{opacity:0}}:{shape:{x:d,y:u,width:0,height:0},style:{opacity:0}}}s&&r.add(t,s,o,a)}})}),_(this._storage,function(t,i){_(t,function(t,n){var l=e.lastsForAnimation[i][n],d={};l&&("nodeGroup"===i?l.old&&(d.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(d.shape=s.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),d.style={opacity:1}):1!==t.style.opacity&&(d.style={opacity:1})),r.add(t,d,o,a))})},this),this._state="animating",r.done(v(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new c(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",v(this._onPan,this)),e.on("zoom",v(this._onZoom,this)));var i=new g(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new g(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=f.create();f.translate(s,s,[-e,-i]),f.scale(s,s,[t,t]),f.translate(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get("link",!0),r=o.get("target",!0)||"blank";a&&window.open(a,r)}}}}},this)},_renderBreadcrumb:function(t,e,i){function n(e){"animating"!==this._state&&(u.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new h(this.group))).render(t,e,i.node,v(n,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=n(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]}}},this),i}});t.exports=L},654:function(t,e,i){for(var n=i(1),o=i(533),a=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<r.length;s++)n.registerAction({type:r[s],update:"updateView"},a);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function i(e,i){var n=o.retrieveTargetInfo(t,e);if(n){var a=e.getViewRoot();a&&(t.direction=o.aboveViewRoot(a,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},i)})},655:function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var n=e.getWidth(),a=e.getHeight(),r=t.option,s=_.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=r.size||[],d=x(b(s.width,l[0]),n),u=x(b(s.height,l[1]),a),f=i&&i.type,v=w.retrieveTargetInfo(i,t),y="treemapRender"===f||"treemapMove"===f?i.rootRect:null,M=t.getViewRoot(),I=w.getPathToRoot(M);if("treemapMove"!==f){var S="treemapZoomToNode"===f?h(t,v,M,d,u):y?[y.width,y.height]:[d,u],D=r.sort;D&&"asc"!==D&&"desc"!==D&&(D="desc");var T={squareRatio:r.squareRatio,sort:D,leafDepth:r.leafDepth};M.hostTree.clearLayouts();var N={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};M.setLayout(N),o(M,T,!1,0);var N=M.getLayout();A(I,function(t,e){var i=(I[e+1]||M).getValue();t.setLayout(p.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},N))})}var L=t.getData().tree.root;L.setLayout(c(s,y,v),!0),t.setLayoutInfo(s),g(L,new m(-s.x,-s.y,n,a),I,M,0)})}function o(t,e,i,n){var r,s;if(!t.isRemoved()){var l=t.getLayout();r=l.width,s=l.height;var h=t.getModel(),c=h.get(S),g=h.get(D)/2,p=f(h),m=Math.max(c,p),v=c-g,x=m-g,h=t.getModel();t.setLayout({borderWidth:c,upperHeight:m,upperLabelHeight:p},!0),r=M(r-2*v,0),s=M(s-v-x,0);var y=r*s,_=a(t,h,y,e,i,n);if(_.length){var w={x:v,y:x,width:r,height:s},b=I(r,s),A=1/0,T=[];T.area=0;for(var N=0,L=_.length;N<L;){var V=_[N];T.push(V),T.area+=V.getLayout().area;var R=d(T,b,e.squareRatio);R<=A?(N++,A=R):(T.area-=T.pop().getLayout().area,u(T,b,w,g,!1),b=I(w.width,w.height),T.length=T.area=0,A=1/0)}if(T.length&&u(T,b,w,g,!0),!i){var C=h.get("childrenVisibleMin");null!=C&&y<C&&(i=!0)}for(var N=0,L=_.length;N<L;N++)o(_[N],e,i,n+1)}}}function a(t,e,i,n,o,a){var d=t.children||[],u=n.sort;"asc"!==u&&"desc"!==u&&(u=null);var h=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!h)return t.viewChildren=[];d=p.filter(d,function(t){return!t.isRemoved()}),s(d,u);var c=l(e,d,u);if(0===c.sum)return t.viewChildren=[];if(c.sum=r(e,i,c.sum,u,d),0===c.sum)return t.viewChildren=[];for(var g=0,f=d.length;g<f;g++){var m=d[g].getValue()/c.sum*i;d[g].setLayout({area:m})}return h&&(d.length&&t.setLayout({isLeafRoot:!0},!0),d.length=0),t.viewChildren=d,t.setLayout({dataExtent:c.dataExtent},!0),d}function r(t,e,i,n,o){if(!n)return i;for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var d=o["asc"===n?r-l-1:l].getValue();d/i*e<a&&(s=l,i-=d)}return"asc"===n?o.splice(0,r-s):o.splice(s,r-s),i}function s(t,e){return e&&t.sort(function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}),t}function l(t,e,i){for(var n=0,o=0,a=e.length;o<a;o++)n+=e[o].getValue();var r,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)r=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&r.reverse();else{var r=[1/0,-1/0];A(e,function(t){var e=t.getValue(s);e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e)})}else r=[NaN,NaN];return{sum:n,dataExtent:r}}function d(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;r<s;r++)(n=t[r].getLayout().area)&&(n<a&&(a=n),n>o&&(o=n));var l=t.area*t.area,d=e*e*i;return l?M(d*o/l,l/(d*a)):1/0}function u(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=["x","y"],l=["width","height"],d=i[s[a]],u=e?t.area/e:0;(o||u>i[l[r]])&&(u=i[l[r]]);for(var h=0,c=t.length;h<c;h++){var g=t[h],f={},p=u?g.getLayout().area/u:0,m=f[l[r]]=M(u-2*n,0),v=i[s[a]]+i[l[a]]-d,x=h===c-1||v<p?v:p,y=f[l[a]]=M(x-2*n,0);f[s[r]]=i[s[r]]+I(n,m/2),f[s[a]]=d+I(n,y/2),d+=x,g.setLayout(f,!0)}i[s[r]]+=u,i[l[r]]-=u}function h(t,e,i,n,o){var a=(e||{}).node,r=[n,o];if(!a||a===i)return r;for(var s,l=n*o,d=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var u=0,h=s.children,c=0,g=h.length;c<g;c++)u+=h[c].getValue();var p=a.getValue();if(0===p)return r;d*=u/p;var m=s.getModel(),v=m.get(S);d+=4*v*v+(3*v+Math.max(v,f(m)))*Math.pow(d,.5),d>y&&(d=y),a=s}d<l&&(d=l);var x=Math.pow(d/l,.5);return[n*x,o*x]}function c(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}function g(t,e,i,n,o){var a=t.getLayout(),r=i[o],s=r&&r===t;if(!(r&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new m(e.x-a.x,e.y-a.y,e.width,e.height);A(t.viewChildren||[],function(t){g(t,l,i,n,o+1)})}}function f(t){return t.get(T)?t.get(N):0}var p=i(0),m=i(10),v=i(3),x=v.parsePercent,y=v.MAX_SAFE_INTEGER,_=i(16),w=i(533),M=Math.max,I=Math.min,b=p.retrieve,A=p.each,S=["itemStyle","normal","borderWidth"],D=["itemStyle","normal","gapWidth"],T=["upperLabel","normal","show"],N=["upperLabel","normal","height"];t.exports=n},656:function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var e=t.getData().tree,i=e.root,n=t.getModel(m);if(!i.isRemoved()){o(i,{},f.map(e.levelModels,function(t){return t?t.get(m):null}),n,t.getViewRoot().getAncestors(),t)}})}function o(t,e,i,n,l,u){var c=t.getModel(),g=t.getLayout();if(g&&!g.invisible&&g.isInView){var p,v=t.getModel(m),x=i[t.depth],y=a(v,e,x,n),_=v.get("borderColor"),w=v.get("borderColorSaturation");null!=w&&(p=r(y),_=s(w,p)),t.setVisual("borderColor",_);var M=t.viewChildren;if(M&&M.length){var I=d(t,c,g,v,y,M);f.each(M,function(t,e){if(t.depth>=l.length||t===l[t.depth]){o(t,h(c,y,t,e,I,u),i,n,l,u)}})}else p=r(y),t.setVisual("color",p)}}function a(t,e,i,n){var o=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(a){var r=t.get(a,!0);null==r&&i&&(r=i[a]),null==r&&(r=e[a]),null==r&&(r=n.get(a)),null!=r&&(o[a]=r)}),o}function r(t){var e=l(t,"color");if(e){var i=l(t,"colorAlpha"),n=l(t,"colorSaturation");return n&&(e=g.modifyHSL(e,null,null,n)),i&&(e=g.modifyAlpha(e,i)),e}}function s(t,e){return null!=e?g.modifyHSL(e,null,null,t):null}function l(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function d(t,e,i,n,o,a){if(a&&a.length){var r=u(e,"color")||null!=o.color&&"none"!==o.color&&(u(e,"colorAlpha")||u(e,"colorSaturation"));if(r){var s=e.get("visualMin"),l=e.get("visualMax"),d=i.dataExtent.slice();null!=s&&s<d[0]&&(d[0]=s),null!=l&&l>d[1]&&(d[1]=l);var h=e.get("colorMappingBy"),g={type:r.name,dataExtent:d,visual:r.range};"color"!==g.type||"index"!==h&&"id"!==h?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var f=new c(g);return f.__drColorMappingBy=h,f}}}function u(t,e){var i=t.get(e);return p(i)&&i.length?{name:e,range:i}:null}function h(t,e,i,n,o,a){var r=f.extend({},e);if(o){var s=o.type,l="color"===s&&o.__drColorMappingBy,d="index"===l?n:"id"===l?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));r[s]=o.mapValueToVisual(d)}return r}var c=i(43),g=i(36),f=i(0),p=f.isArray,m="itemStyle.normal";t.exports=n},657:function(t,e,i){i(666),i(561),i(562),i(661),i(662),i(659),i(660),i(664),i(663)},658:function(t,e,i){function n(t,e,i){var n=[1/0,-1/0];return u(i,function(t){var i=t.getData();i&&u(t.coordDimToDataDim(e),function(t){var e=i.getDataExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})}),n[1]<n[0]&&(n=[NaN,NaN]),o(t,n),n}function o(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),a=o&&(i.get("data")||[]).length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:o&&(e[0]=a>0?0:NaN);var r=i.getMax(!0);return null!=r&&"dataMax"!==r&&"function"!=typeof r?e[1]=r:o&&(e[1]=a>0?a-1:NaN),i.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function a(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=l.getPixelPrecision(o,[0,500]);a=Math.min(a,20);var r=e||0===n[0]&&100===n[1];i.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}function r(t){var e=t._minMaxSpan={},i=t._dataZoomModel;u(["min","max"],function(n){e[n+"Span"]=i.get(n+"Span");var o=i.get(n+"ValueSpan");if(null!=o&&(e[n+"ValueSpan"]=o,null!=(o=t.getAxisModel().axis.scale.parse(o)))){var a=t._dataExtent;e[n+"Span"]=l.linearMap(a[0]+o,a,[0,100],!0)}})}var s=i(0),l=i(3),d=i(563),u=s.each,h=l.asc,c=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i};c.prototype={constructor:c,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(d.isCoordSupported(i.get("coordinateSystem"))){var n=this._dimName,o=e.queryComponents({mainType:n+"Axis",index:i.get(n+"AxisIndex"),id:i.get(n+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel(),a="x"===i||"y"===i;a?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var r;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(r=t)}),r},getMinMaxSpan:function(){return s.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel(),n=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],r=[t.start,t.end],s=[];return u(["startValue","endValue"],function(e){s.push(null!=t[e]?n.parse(t[e]):null)}),u([0,1],function(t){var i=s[t],d=r[t];"percent"===o[t]?(null==d&&(d=a[t]),i=n.parse(l.linearMap(d,a,e,!0))):d=l.linearMap(i,e,a,!0),s[t]=i,r[t]=d}),{valueWindow:h(s),percentWindow:h(r)}},reset:function(t){if(t===this._dataZoomModel){this._dataExtent=n(this,this._dimName,this.getTargetSeriesModels());var e=this.calculateDataWindow(t.option);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,r(this),a(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,a(this,!0))},filterData:function(t){function e(t){return t>=a[0]&&t<=a[1]}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;if("none"!==o){var r=this.getOtherAxisModel();t.get("$fromToolbox")&&r&&"category"===r.get("type")&&(o="empty"),u(n,function(t){var n=t.getData(),r=t.coordDimToDataDim(i);"weakFilter"===o?n&&n.filterSelf(function(t){for(var e,i,o,s=0;s<r.length;s++){var l=n.get(r[s],t),d=!isNaN(l),u=l<a[0],h=l>a[1];if(d&&!u&&!h)return!0;d&&(o=!0),u&&(e=!0),h&&(i=!0)}return o&&e&&i}):n&&u(r,function(i){"empty"===o?t.setData(n.map(i,function(t){return e(t)?t:NaN})):n.filterSelf(i,e)})})}}}};var g=c;t.exports=g},659:function(t,e,i){var n=i(561),o=n.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});t.exports=o},660:function(t,e,i){var n=i(0),o=i(562),a=i(191),r=i(665),s=n.bind,l=o.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,o){l.superApply(this,"render",arguments),r.shouldRecordRange(o,t.id)&&(this._range=t.getPercentRange()),n.each(this.getTargetCoordInfo(),function(e,o){var a=n.map(e,function(t){return r.generateCoordId(t.model)});n.each(e,function(e){var n=e.model,l=t.option;r.register(i,{coordId:r.generateCoordId(n),allCoordIds:a,containsPoint:function(t,e,i){return n.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:s(this._onPan,this,e,o),zoomGetRange:s(this._onZoom,this,e,o),zoomLock:l.zoomLock,disabled:l.disabled,roamControllerOpt:{zoomOnMouseWheel:l.zoomOnMouseWheel,moveOnMouseMove:l.moveOnMouseMove,preventDefaultMouseMove:l.preventDefaultMouseMove}})},this)},this)},dispose:function(){r.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,n,o,r,s,l,u){var h=this._range.slice(),c=t.axisModels[0];if(c){var g=d[e]([r,s],[l,u],c,i,t),f=g.signal*(h[1]-h[0])*g.pixel/g.pixelLength;return a(f,h,[0,100],"all"),this._range=h}},_onZoom:function(t,e,i,n,o,r){var s=this._range.slice(),l=t.axisModels[0];if(l){var u=d[e](null,[o,r],l,i,t),h=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(s[1]-s[0])+s[0];n=Math.max(1/n,0),s[0]=(s[0]-h)*n+h,s[1]=(s[1]-h)*n+h;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return a(0,s,[0,100],0,c.minSpan,c.maxSpan),this._range=s}}}),d={grid:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),d=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=d[1]-d[0],r.pixelStart=d[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},u=l;t.exports=u},661:function(t,e,i){var n=i(561),o=n.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),a=o;t.exports=a},662:function(t,e,i){function n(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function o(t){return"vertical"===t?"ns-resize":"ew-resize"}var a=i(0),r=i(31),s=i(2),l=i(75),d=i(562),u=i(3),h=i(16),c=i(191),g=s.Rect,f=u.linearMap,p=u.asc,m=a.bind,v=a.each,x="horizontal",y=5,_=["line","bar","candlestick","scatter"],w=d.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){if(w.superApply(this,"render",arguments),l.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1===this.dataZoomModel.get("show"))return void this.group.removeAll();n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()},remove:function(){w.superApply(this,"remove",arguments),l.clear(this,"_dispatchZoomAction")},dispose:function(){w.superApply(this,"dispose",arguments),l.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new s.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===x?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},r=h.getLayoutParams(t.option);a.each(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=o[t])});var s=h.getLayoutRect(r,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==x||o?i===x&&o?{scale:r?[-1,1]:[-1,-1]}:"vertical"!==i||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new g({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new g({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:a.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var r=n.getDataExtent(o),l=.3*(r[1]-r[0]);r=[r[0]-l,r[1]+l];var d,u=[0,e[1]],h=[0,e[0]],c=[[e[0],0],[0,0]],g=[],p=h[1]/(n.count()-1),m=0,v=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(v>0&&e%v)return void(m+=p);var i=null==t||isNaN(t)||""===t,n=i?0:f(t,r,u,!0);i&&!d&&e?(c.push([c[c.length-1][0],0]),g.push([g[g.length-1][0],0])):!i&&d&&(c.push([m,0]),g.push([m,0])),c.push([m,n]),g.push([m,n]),m+=p,d=i});var x=this.dataZoomModel;this._displayables.barGroup.add(new s.Polygon({shape:{points:c},style:a.defaults({fill:x.get("dataBackgroundColor")},x.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new s.Polyline({shape:{points:g},style:x.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,o=this.ecModel;return t.eachTargetAxis(function(r,s){var l=t.getAxisProxy(r.name,s).getTargetSeriesModels();a.each(l,function(t){if(!(i||!0!==e&&a.indexOf(_,t.get("type"))<0)){var l,d=o.getComponent(r.axis,s).axis,u=n(r.name),h=t.coordinateSystem;null!=u&&h.getOtherAxis&&(l=h.getOtherAxis(d).inverse),i={thisAxis:d,series:t,thisDim:r.name,otherDim:u,otherAxisInverse:l}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,a=this._size,l=this.dataZoomModel;n.add(t.filler=new g({draggable:!0,cursor:o(this._orient),drift:m(this._onDragMove,this,"all"),onmousemove:function(t){r.stop(t.event)},ondragstart:m(this._showDataInfo,this,!0),ondragend:m(this._onDragEnd,this),onmouseover:m(this._showDataInfo,this,!0),onmouseout:m(this._showDataInfo,this,!1),style:{fill:l.get("fillerColor"),textPosition:"inside"}})),n.add(new g(s.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),v([0,1],function(t){var a=s.createIcon(l.get("handleIcon"),{cursor:o(this._orient),draggable:!0,drift:m(this._onDragMove,this,t),onmousemove:function(t){r.stop(t.event)},ondragend:m(this._onDragEnd,this),onmouseover:m(this._showDataInfo,this,!0),onmouseout:m(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),d=a.getBoundingRect();this._handleHeight=u.parsePercent(l.get("handleSize"),this._size[1]),this._handleWidth=d.width/d.height*this._handleHeight,a.setStyle(l.getModel("handleStyle").getItemStyle());var h=l.get("handleColor");null!=h&&(a.style.fill=h),n.add(e[t]=a);var c=l.textStyleModel;this.group.add(i[t]=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:c.getTextColor(),textFont:c.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[f(t[0],[0,100],e,!0),f(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];c(e,n,o,i.get("zoomLock")?"all":t,null!=a.minSpan?f(a.minSpan,r,o,!0):null,null!=a.maxSpan?f(a.maxSpan,r,o,!0):null),this._range=p([f(n[0],o,r,!0),f(n[1],o,r,!0)])},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=p(i.slice()),o=this._size;v([0,1],function(t){var n=e.handles[t],a=this._handleHeight;n.attr({scale:[a/2,a/2],position:[i[t],o[1]/2-a/2]})},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=s.getTransform(n.handles[t].parent,this.group),i=s.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+y,d=s.applyTransform([c[t]+(0===t?-l:l),this._size[1]/2],e);o[t].setStyle({x:d[0],y:d[1],textVerticalAlign:a===x?"middle":i,textAlign:a===x?i:"center",text:r[t]})}var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,a=this._orient,r=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var d=l.getAxisModel().axis,u=this._range,h=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();r=[this._formatLabel(h[0],d),this._formatLabel(h[1],d)]}}var c=p(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return a.isFunction(n)?n(t,r):a.isString(n)?n.replace("{value}",r):r},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._displayables.barGroup.getLocalTransform(),o=s.applyTransform([e,i],n,!0);this._updateInterval(t,o[0]);var a=this.dataZoomModel.get("realtime");this._updateView(!a),a&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2;this._updateInterval("all",i[0]-o),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(v(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}}),M=w;t.exports=M},663:function(t,e,i){var n=i(1),o=i(0),a=i(563);n.registerAction("dataZoom",function(t,e){var i=a.createLinkedNodesFinder(o.bind(e.eachComponent,e,"dataZoom"),a.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),n=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){n.push.apply(n,i(t).nodes)}),o.each(n,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},664:function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i)}function o(t,e,i){i.getAxisProxy(t.name,e).filterData(i)}i(1).registerProcessor(function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(o)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})})},665:function(t,e,i){function n(t,e){var i=s(t),n=e.dataZoomId,o=e.coordId;p.each(i,function(t,i){var a=t.dataZoomInfos;a[n]&&p.indexOf(e.allCoordIds,o)<0&&(delete a[n],t.count--)}),d(i);var a=i[o];a||(a=i[o]={coordId:o,dataZoomInfos:{},count:0},a.controller=l(t,a),a.dispatchAction=p.curry(g,t)),!a.dataZoomInfos[n]&&a.count++,a.dataZoomInfos[n]=e;var r=f(a.dataZoomInfos);a.controller.enable(r.controlType,r.opt),a.controller.setPointerChecker(e.containsPoint),v.createOrUpdate(a,"dispatchAction",e.throttleRate,"fixRate")}function o(t,e){var i=s(t);p.each(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),d(i)}function a(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0}function r(t){return t.type+"\0_"+t.id}function s(t){var e=t.getZr();return e[y]||(e[y]={})}function l(t,e){var i=new m(t.getZr());return i.on("pan",x(u,e)),i.on("zoom",x(h,e)),i}function d(t){p.each(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function u(t,e,i,n,o,a,r){c(t,function(s){return s.panGetRange(t.controller,e,i,n,o,a,r)})}function h(t,e,i,n){c(t,function(o){return o.zoomGetRange(t.controller,e,i,n)})}function c(t,e){var i=[];p.each(t.dataZoomInfos,function(t){var n=e(t);!t.disabled&&n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function g(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function f(t){var e,i={},n={true:2,move:1,false:0,undefined:-1};return p.each(t,function(t){var o=!t.disabled&&(!t.zoomLock||"move");n[o]>n[e]&&(e=o),p.extend(i,t.roamControllerOpt)}),{controlType:e,opt:i}}var p=i(0),m=i(190),v=i(75),x=p.curry,y="\0_ec_dataZoom_roams";e.register=n,e.unregister=o,e.shouldRecordRange=a,e.generateCoordId=r},666:function(t,e,i){i(18).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},667:function(t,e,i){var n=i(1);i(668),i(669),n.registerPreprocessor(function(t){t.markLine=t.markLine||{}})},668:function(t,e,i){var n=i(670),o=n.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=o},669:function(t,e,i){function n(t){return!isNaN(t)&&!isFinite(t)}function o(t,e,i,o){var a=1-t,r=o.dimensions[t];return n(e[a])&&n(i[a])&&e[t]===i[t]&&o.getAxis(r).containData(e[t])}function a(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(o(1,i,n,t)||o(0,i,n,t)))return!0}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1])}function r(t,e,i,o,a){var r,s=o.coordinateSystem,l=t.getItemModel(e),d=u.parsePercent(l.get("x"),a.getWidth()),h=u.parsePercent(l.get("y"),a.getHeight());if(isNaN(d)||isNaN(h)){if(o.getMarkerPosition)r=o.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=s.dimensions,g=t.get(c[0],e),f=t.get(c[1],e);r=s.dataToPoint([g,f])}if("cartesian2d"===s.type){var p=s.getAxis("x"),m=s.getAxis("y"),c=s.dimensions;n(t.get(c[0],e))?r[0]=p.toGlobalCoord(p.getExtent()[i?0:1]):n(t.get(c[1],e))&&(r[1]=m.toGlobalCoord(m.getExtent()[i?0:1]))}isNaN(d)||(r[0]=d),isNaN(h)||(r[1]=h)}else r=[d,h];t.setItemLayout(e,r)}function s(t,e,i){var n;n=t?l.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new d(n,i),r=new d(n,i),s=new d([],i),u=l.map(i.get("data"),l.curry(f,e,t,i));t&&(u=l.filter(u,l.curry(a,t)));var c=t?h.dimValueGetter:function(t){return t.value};return o.initData(l.map(u,function(t){return t[0]}),null,c),r.initData(l.map(u,function(t){return t[1]}),null,c),s.initData(l.map(u,function(t){return t[2]})),s.hasItemOption=!0,{from:o,to:r,line:s}}var l=i(0),d=i(41),u=i(3),h=i(672),c=i(648),g=i(671),f=function(t,e,i,n){var o=t.getData(),a=n.type;if(!l.isArray(n)&&("min"===a||"max"===a||"average"===a||null!=n.xAxis||null!=n.yAxis)){var r,s;if(null!=n.yAxis||null!=n.xAxis)r=null!=n.yAxis?"y":"x",e.getAxis(r),s=l.retrieve(n.yAxis,n.xAxis);else{var d=h.getAxisInfo(n,o,e,t);r=d.valueDataDim,d.valueAxis,s=h.numCalculate(o,r,a)}var u="x"===r?0:1,c=1-u,g=l.clone(n),f={};g.type=null,g.coord=[],f.coord=[],g.coord[c]=-1/0,f.coord[c]=1/0;var p=i.get("precision");p>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(p,20))),g.coord[u]=f.coord[u]=s,n=[g,f,{type:a,valueIndex:n.valueIndex,value:s}]}return n=[h.dataTransform(t,n[0]),h.dataTransform(t,n[1]),l.extend({},n[2])],n[2].type=n[2].type||"",l.merge(n[2],n[0]),l.merge(n[2],n[1]),n},p=g.extend({type:"markLine",updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,a=e.__to;o.each(function(e){r(o,e,!0,t,i),r(a,e,!1,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,n){function o(e,i,o){var a=e.getItemModel(i);r(e,i,o,t,n),e.setItemVisual(i,{symbolSize:a.get("symbolSize")||y[o?0:1],symbol:a.get("symbol",!0)||x[o?0:1],color:a.get("itemStyle.normal.color")||u.getVisual("color")})}var a=t.coordinateSystem,d=t.id,u=t.getData(),h=this.markerGroupMap,g=h.get(d)||h.set(d,new c);this.group.add(g.group);var f=s(a,t,e),p=f.from,m=f.to,v=f.line;e.__from=p,e.__to=m,e.setData(v);var x=e.get("symbol"),y=e.get("symbolSize");l.isArray(x)||(x=[x,x]),"number"==typeof y&&(y=[y,y]),f.from.each(function(t){o(p,t,!0),o(m,t,!1)}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.normal.color");v.setItemVisual(t,{color:e||p.getItemVisual(t,"color")}),v.setItemLayout(t,[p.getItemLayout(t),m.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:p.getItemVisual(t,"symbolSize"),fromSymbol:p.getItemVisual(t,"symbol"),toSymbolSize:m.getItemVisual(t,"symbolSize"),toSymbol:m.getItemVisual(t,"symbol")})}),g.updateData(v),f.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),g.__keep=!0,g.group.silent=e.get("silent")||t.get("silent")}});t.exports=p},670:function(t,e,i){function n(t){l.defaultEmphasis(t.label,["show"])}var o=i(5),a=(o.__DEV__,i(1)),r=i(0),s=i(11),l=i(4),d=i(7),u=d.addCommas,h=d.encodeHTML,c=a.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(s.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,i,o){var a=this.constructor,s=this.mainType+"Model";i||e.eachSeries(function(t){var i=t.get(this.mainType),l=t[s];if(!i||!i.data)return void(t[s]=null);l?l.mergeOption(i,e,!0):(o&&n(i),r.each(i.data,function(t){t instanceof Array?(n(t[0]),n(t[1])):n(t)}),l=new a(i,this,e),r.extend(l,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),l.__hostSeries=t),t[s]=l},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=r.isArray(i)?r.map(i,u).join(", "):u(i),o=e.getName(t),a=h(this.name);return(null!=i||o)&&(a+="<br />"),o&&(a+=h(o),null!=i&&(a+=" : ")),null!=i&&(a+=h(n)),a},getData:function(){return this._data},setData:function(t){this._data=t}});r.mixin(c,l.dataFormatMixin);var g=c;t.exports=g},671:function(t,e,i){var n=i(1),o=i(0),a=n.extendComponentView({type:"marker",init:function(){this.markerGroupMap=o.createHashMap()},render:function(t,e,i){var n=this.markerGroupMap;n.each(function(t){t.__keep=!1});var o=this.type+"Model";e.eachSeries(function(t){var n=t[o];n&&this.renderSeries(t,n,e,i)},this),n.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});t.exports=a},672:function(t,e,i){function n(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function o(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function a(t,e,i){var n=-1;do{n=Math.max(g.getPrecision(t.get(e,i)),n),t=t.stackedOn}while(t);return n}function r(t,e,i,n,o,r){var s=[],l=h(e,n,t),d=e.indicesOfNearest(n,l,!0)[0];s[o]=e.get(i,d,!0),s[r]=e.get(n,d,!0);var u=a(e,n,d);return u=Math.min(u,20),u>=0&&(s[r]=+s[r].toFixed(u)),s}function s(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&!o(e)&&!c.isArray(e.coord)&&n){var a=n.dimensions,r=l(e,i,n,t);if(e=c.clone(e),e.type&&m[e.type]&&r.baseAxis&&r.valueAxis){var s=f(a,r.baseAxis.dim),d=f(a,r.valueAxis.dim);e.coord=m[e.type](i,r.baseDataDim,r.valueDataDim,s,d),e.value=e.coord[d]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],g=0;g<2;g++)if(m[u[g]]){var p=t.coordDimToDataDim(a[g])[0];u[g]=h(i,p,u[g])}e.coord=u}}return e}function l(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(n.dataDimToCoordDim(o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0]):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0],o.valueDataDim=n.coordDimToDataDim(o.valueAxis.dim)[0]),o}function d(t,e){return!(t&&t.containData&&e.coord&&!n(e))||t.containData(e.coord)}function u(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function h(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)},!0),n/o}return t.getDataExtent(e,!0)["max"===i?1:0]}var c=i(0),g=i(3),f=c.indexOf,p=c.curry,m={min:p(r,"min"),max:p(r,"max"),average:p(r,"average")};e.dataTransform=s,e.getAxisInfo=l,e.dataFilter=d,e.dimValueGetter=u,e.numCalculate=h},673:function(t,e,i){function n(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=a.map(e||[],function(e){return new r(e,t,t.ecModel)}),this.leavesModel=new r(i||{},t,t.ecModel)}function o(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}var a=i(0),r=i(9),s=i(41),l=i(674),d=i(42),u=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};u.prototype={constructor:u,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},a.isString(t)&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var s=0;!n&&s<r.length;s++)r[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},n.prototype={constructor:n,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},n.createTree=function(t,e,i){function r(t,e){var i=t.value;g=Math.max(g,a.isArray(i)?i.length:1),c.push(t);var n=new u(t.name,h);e?o(n,e):h.root=n,h._nodes.push(n);var s=t.children;if(s)for(var l=0;l<s.length;l++)r(s[l],n)}var h=new n(e,i.levels,i.leaves),c=[],g=1;r(t),h.root.updateDepthAndHeight(0);var f=d([{name:"value"}],c,{dimCount:g}),p=new s(f,e);return p.initData(c),l({mainData:p,struct:h,structAttr:"tree"}),h.update(),h};var h=n;t.exports=h},674:function(t,e,i){function n(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,d(e,i,t),c(i,function(i){c(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,h.curry(o,t))})}),e.wrapMethod("cloneShallow",h.curry(r,t)),c(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,h.curry(a,t))}),h.assert(i[e.dataType]===e)}function o(t,e){if(l(this)){var i=h.extend({},this[g]);i[this.dataType]=e,d(e,i,t)}else u(e,this.dataType,this[f],t);return e}function a(t,e){return t.struct&&t.struct.update(this),e}function r(t,e){return c(e[g],function(i,n){i!==e&&u(i.cloneShallow(),n,e,t)}),e}function s(t){var e=this[f];return null==t||null==e?e:e[g][t]}function l(t){return t[f]===t}function d(t,e,i){t[g]={},c(e,function(e,n){u(e,n,t,i)})}function u(t,e,i,n){i[g][e]=t,t[f]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=s}var h=i(0),c=h.each,g="\0__link_datas",f="\0__link_mainData",p=n;t.exports=p},675:function(t,e,i){function n(){var t,e=[],i={};return{add:function(t,n,a,r,s){return o.isString(r)&&(s=r,r=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:n,time:a,delay:r,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function n(){--o||(e.length=0,i={},t&&t())}for(var o=e.length,a=0,r=e.length;a<r;a++){var s=e[a];s.el.animateTo(s.target,s.time,s.delay,s.easing,n)}return this}}}var o=i(0);e.createWrap=n}});
//# sourceMappingURL=44.bc7fe003206a95f49c0c.js.map